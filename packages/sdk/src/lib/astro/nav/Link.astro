---
import type { HTMLAttributes } from 'astro/types';
import twMerge from '../../tailwind/tailwind-merge';

type Props = Omit<HTMLAttributes<'a'>, 'class'> & {
  class?: ClassName;
  label?: string;
};

const { href, class: className, label, ...props } = Astro.props;

const current =
  href === Astro.url.pathname || href === `${Astro.url.pathname}/`
    ? 'page'
    : Astro.url.pathname.indexOf(`${href}/`) >= 0
    ? 'step'
    : undefined;
---

<a
  {href}
  class={twMerge('page:disabled', className)}
  aria-label={label}
  aria-current={current}
  {...props}>
  <slot>
    {label}
  </slot>
</a>
