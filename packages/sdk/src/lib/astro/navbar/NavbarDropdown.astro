---
import Dropdown from '../dropdown/Dropdown.astro';
import Link from '../navigate/Link.astro';
import type { NavItem } from '../navigate';

type Props = NavItem & {
  custom?: Record<string, ClassName>;
  duration?: number;
};

const { items = [], rel, href, class: className, custom = {}, label, duration = 300 } = Astro.props;

custom.links = ['page:disabled', custom.links];
---

<Dropdown
  class={['leading-none', className]}
  {custom}
  {href}
  {label}
  {duration}
  {rel}>
  <slot>
    {items.map(({ href, label }) => <Link {href}>{label}</Link>)}
  </slot>
</Dropdown>
