---
import type { HTMLAttributes } from 'astro/types';
import twMerge from '../../tailwind/tailwind-merge';
import ColorTheme from '../color-theme/ColorTheme.astro';
import NavbarHome from '../navigate/NavHome.astro';
import NavToTop from '../navigate/NavToTop.astro';
import NavbarMenu from './NavbarMenu.astro';
import NavbarToggle from './NavbarToggle.astro';
import type { NavItem } from '../navigate';

type Props = Omit<HTMLAttributes<'div'>, 'class'> & {
  class?: ClassName;
  custom?: Record<string, ClassName>;
  items: NavItem[];
};

const { class: className, custom = {}, items, ...props } = Astro.props;
---

<nav
  id='app-navbar'
  role='menubar'
  class={twMerge('fixed left-0 top-0 z-10 w-full', 'text-lg', className)}
  {...props}>
  <div class:list={['wrapper h-full', 'flex items-center justify-end']}>
    <slot name='before'>
      <NavbarHome class={[custom.button, 'mr-auto', custom.home]} />
    </slot>

    <NavbarMenu
      {custom}
      {items}>
      <slot />
    </NavbarMenu>

    <slot name='after'>
      <ColorTheme class={[custom.button, 'ml-auto', custom.theme]} />
      <NavToTop class={custom.totop} />
    </slot>
    <NavbarToggle class={[custom.button, 'order-last ml-8 lg:hidden', custom.toggle]} />
  </div>
</nav>
